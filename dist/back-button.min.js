!function(n){"use strict";n.module("nb.backbutton",["ui.router"]).directive("nbBackButton",["$rootScope","$state","$transitions",function(n,t,a){return{restrict:"EA",transclude:!0,scope:{state:"@",params:"="},link:function(o,u,e,s,i){u.addClass("nb-back-button").addClass("ng-hide");var c=null,r={};i(o,function(n){u.prepend(n)}),o.state?n.$emit("$nb.backbutton",o.state,o.params):(o.$back=function(){n.$emit("$nb.backbutton",null),t.go(c,r)},n.$on("$nb.backbutton",function(n,t,a){t&&(c=t,r=a||{},u.removeClass("ng-hide"))}),a.onStart({},function(){c=null,r={}}),a.onSuccess({},function(){setTimeout(function(){c||u.addClass("ng-hide")},10)}),setTimeout(function(){c&&null!=c||u.addClass("ng-hide")},10))}}}])}(angular);