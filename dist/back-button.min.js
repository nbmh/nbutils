!function(a){"use strict";a.module("nb.backbutton",["ui.router"]).directive("nbBackButton",["$rootScope","$state","$transitions",function(a,b,c){return{restrict:"EA",transclude:!0,scope:{state:"@",params:"="},link:function(d,e,f,g,h){e.addClass("nb-back-button").addClass("ng-hide");var i=null,j={};h(d,function(a){e.prepend(a)}),d.state?a.$emit("$nb.backbutton",d.state,d.params):(d.$back=function(){a.$emit("$nb.backbutton",null),b.go(i,j)},a.$on("$nb.backbutton",function(a,b,c){b&&(i=b,j=c||{},e.removeClass("ng-hide"))}),c.onStart({},function(){i=null,j={}}),c.onSuccess({},function(){setTimeout(function(){i||e.addClass("ng-hide")},10)}),setTimeout(function(){i&&null!=i||e.addClass("ng-hide")},10))}}}])}(angular);