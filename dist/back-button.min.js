!function(a){"use strict";a.module("nb.backbutton",[]).directive("nbBackButton",["$rootScope","$state",function(a,b){return{restrict:"EA",transclude:!0,scope:{state:"@",params:"="},link:function(c,d,e,f,g){d.addClass("nb-back-button").addClass("ng-hide");var h=null,i={};g(c,function(a){d.prepend(a)}),c.state?a.$emit("$nb.backbutton",c.state,c.params):(c.$back=function(){a.$emit("$nb.backbutton",null),b.go(h,i)},a.$on("$nb.backbutton",function(a,b,c){b&&(h=b,i=c||{},d.removeClass("ng-hide"))}),a.$on("$stateChangeSuccess",function(){setTimeout(function(){h||d.addClass("ng-hide")},10)}),a.$on("$stateChangeStart",function(){h=null,i={}}),setTimeout(function(){h&&null!=h||d.addClass("ng-hide")},10))}}}])}(angular);