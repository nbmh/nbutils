!function(t){"use strict";t.module("nb.backbutton",["ui.router"]).directive("nbBackButton",["$rootScope","$state","$transitions","$timeout",function(t,n,e,o){return{restrict:"EA",transclude:!0,scope:{name:"@",state:"="},link:function(a,i,s,u,c){i.addClass("nb-back-button").addClass("ng-hide");var b=!1;if(c(a,function(t){i.prepend(t)}),a.name||a.state){var r=t.$on("$nb.backbutton.get",function(){t.$emit("$nb.backbutton.give",{name:a.name,state:a.state})});t.$emit("$nb.backbutton",null),a.$on("$destroy",function(){r()})}else{a.$back=function(){t.$emit("$nb.backbutton.get")};var $=t.$on("$nb.backbutton.give",function(t,e){e.state?n.go(e.state.state,e.state.params||{},e.state.options||{}):n.go(e.name)}),d=t.$on("$nb.backbutton",function(){b=!0,i.removeClass("ng-hide")});a.$on("$destroy",function(){$(),d()}),e.onStart({},function(){b=!1}),e.onSuccess({},function(){o(function(){b||i.addClass("ng-hide")},10)}),setTimeout(function(){b||i.addClass("ng-hide")},10)}}}}])}(angular);