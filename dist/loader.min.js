!function(a){"use strict";a.module("nb.loader",["ngMaterial"]).directive("nbLoader",["$rootScope","$timeout","$injector",function(a,b,c){return{restrict:"E",template:'<md-backdrop class="md-dialog-backdrop md-opaque" ng-if="data.visible>0"></md-backdrop><div ng-if="data.visible>0"><md-whiteframe class="md-whiteframe-2dp" ng-if="data.label" layout="row" layout-align="center center"><md-progress-circular md-mode="indeterminate"></md-progress-circular>{{data.label}}</md-whiteframe><div ng-if="!(data.label)"><md-progress-circular md-mode="indeterminate"></md-progress-circular><div></div>',scope:{},link:function(d){d.data={visible:0,label:null};var e=null;try{e=c.get("$translate")}catch(f){}a.$on("$nbloader.show",function(a,c){d.data.visible=d.data.visible+1,e?e(c.label).then(function(a){d.data.label=a},function(a){d.data.label=a}):d.data.label=c.label,b(function(){d.$apply()})}),a.$on("$nbloader.hide",function(a){var c=1*d.data.visible;c--,c<0&&(c=0),d.data.visible=c,0==c&&(d.data.label=null),b(function(){d.$apply()})})}}}]).provider("$nbLoader",[function(){var a=this;a.$get=["$rootScope",function(a){var b=function(){};return b.show=function(b){a.$emit("$nbloader.show",{label:b})},b.hide=function(){a.$emit("$nbloader.hide")},b}]}])}(angular);