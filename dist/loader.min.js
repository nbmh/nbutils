!function(a){"use strict";a.module("nb.loader",["ngMaterial"]).directive("nbLoader",["$rootScope","$timeout","$injector",function(a,e,i){return{restrict:"E",template:'<md-backdrop class="md-dialog-backdrop md-opaque" ng-if="data.visible>0"></md-backdrop><div ng-if="data.visible>0"><md-whiteframe class="md-whiteframe-2dp" ng-if="data.label" layout="row" layout-align="center center"><md-progress-circular md-mode="indeterminate"></md-progress-circular>{{data.label}}</md-whiteframe><div ng-if="!(data.label)"><md-progress-circular md-mode="indeterminate"></md-progress-circular><div></div>',scope:{},link:function(t){t.data={visible:0,label:null};var n=null;try{n=i.get("$translate")}catch(a){}a.$on("$nbloader.show",function(a,i){t.data.visible=t.data.visible+1,n?n(i.label).then(function(a){t.data.label=a},function(a){t.data.label=a}):t.data.label=i.label,e(function(){t.$apply()})}),a.$on("$nbloader.hide",function(a){var i=1*t.data.visible;--i<0&&(i=0),t.data.visible=i,0==i&&(t.data.label=null),e(function(){t.$apply()})})}}}]).provider("$nbLoader",[function(){this.$get=["$rootScope",function(a){var e=function(){};return e.show=function(e){a.$emit("$nbloader.show",{label:e})},e.hide=function(){a.$emit("$nbloader.hide")},e}]}])}(angular);