!function(t){"use strict";t.module("nb.acl",["nb.auth"]).directive("nbAclIfAllowed",["ngIfDirective","$acl",function(t,n){var e=t[0];return{transclude:e.transclude,priority:e.priority,terminal:e.terminal,restrict:e.restrict,link:function(t,a,o,i,r){o.ngIf=function(){return n.isAllowed(o.nbAclIfAllowed)},e.link.call(e,t,a,o,i,r)}}}]).directive("nbAclShowAllowed",["$acl","$rootScope",function(t,n){return{restrict:"A",link:function(e,a,o){t.isAllowed(o.nbAclShowAllowed)?a.removeClass("acl-hide"):a.addClass("acl-hide"),n.$on("$acl.update.rights",function(){t.isAllowed(o.nbAclShowAllowed)?a.removeClass("acl-hide"):a.addClass("acl-hide")}),n.$on("$acl.update.groups",function(){t.isAllowed(o.nbAclShowAllowed)?a.removeClass("acl-hide"):a.addClass("acl-hide")})}}}]).directive("nbAclIfGroup",["ngIfDirective","$acl",function(t,n){var e=t[0];return{transclude:e.transclude,priority:e.priority,terminal:e.terminal,restrict:e.restrict,link:function(t,a,o,i,r){o.ngIf=function(){return n.isGroup(o.nbAclIfGroup)},e.link.call(e,t,a,o,i,r)}}}]).directive("nbAclShowGroup",["$acl","$rootScope",function(t,n){return{restrict:"A",link:function(e,a,o){t.isGroup(o.nbAclShowGroup)?a.removeClass("acl-hide"):a.addClass("acl-hide"),n.$on("$acl.update.groups",function(){t.isGroup(o.nbAclShowGroup)?a.removeClass("acl-hide"):a.addClass("acl-hide")})}}}]).provider("$acl",[function(){var n,e=this,a=[],o=[];e.setRights=function(t){o=t||[]},e.setGroups=function(t){a=t||[]},e.$get=["$rootScope","$state","$auth","$transitions",function(e,i,r,u){return n=function(t){return t?n.isAllowed(t):n.rights()},n.isAllowed=function(e){var a=n.rights(),o=[];t.isArray(e)?o=e:t.isString(e)&&(o=e.split("|"));var i=!1;return t.forEach(o,function(t){!i&&a.indexOf(t)>-1&&(i=!0)}),i},n.isGroup=function(e){var a=n.groups(),o=[],i=!1;return t.isArray(e)?o=e:t.isString(e)&&(o=e.split("|")),t.forEach(o,function(t){if(!i){var e=t,o=[];t.indexOf(":")>-1&&(e=t.substr(0,t.indexOf(":")),o=t.substr(t.indexOf(":")+1)),a.indexOf(e)>-1&&(i=!o.length||n.isAllowed(o.replace(/;/gi,"|").replace(/,/gi,"|")))}}),i},n.rights=function(n){return n&&t.isArray(n)&&(o=n||[],e.$emit("$acl.update.rights",o)),o||[]},n.groups=function(n){return n&&t.isArray(n)&&(a=n||[],e.$emit("$acl.update.groups",a)),a||[]},u.onStart({},function(e){var a=e.to();if(a.params.acl){var o=a.params.acl;if(t.isString(a.params.acl)&&(o=a.params.acl.split("|")),o.length&&!n.isAllowed(o)){e.abort();var u=r.getStateMain();i.go(u.name,u.params,u.options)}}}),n}]}])}(angular),function(t){"use strict";t.module("nb.auth",["ui.router","ngStorage"]).provider("$auth",["$httpProvider",function(n){var e=this,a=null,o=900,i="",r="",u=!0,c=null,s={check:401,expiration:403},l={auth:{name:"",params:{},options:{}},main:{name:"",params:{},options:{}},excluded:[]},d={},f=t.identity,m=!1,p="X-Auth-Token",h="X-Auth-Remember",g=!1;e.setData=function(t){a=t},e.setCondition=function(t){return c=t,e},e.setMapSource=function(t){return f=t,e},e.setStateAuth=function(t,n,a){return l.auth.name=t||"",l.auth.params=n||{},l.auth.options=a||{},e},e.setStateMain=function(t,n,a){return l.main.name=t||"",l.main.params=n||{},l.main.options=a||{},e},e.setExcluded=function(t){return t.excluded=t,e},e.addExcluded=function(t){return l.excluded.push(t),e},e.setAuthUrl=function(t){return i=t,e},e.setCheckUrl=function(t){return r=t,e},e.setExpiration=function(t){return o=t,e},e.setStatusCheck=function(t){return s.check=t,e},e.setStatusExpiration=function(t){return s.expiration=t,e},e.setHeaderName=function(t){return p=t,e},e.setRememberName=function(t){return h=t,e},e.addHeader=function(t,n){d[t]=n};var $;n.interceptors.push(["$q",function(t){return{request:function(t){return $.handleRequest&&-1==t.url.indexOf(r)?$.handleRequest(t):t},responseError:function(n){return t.reject($.handleResponseError?$.handleResponseError(n):n)}}}]),e.$get=["$rootScope","$rootElement","$sessionStorage","$localStorage","$http","$interval","$q","$state","$transitions","$config",function(e,v,b,w,y,A,C,k,x,T){var _={loading:t.noop,done:t.noop},E=function(){return!0===w[T.auth.remember_name]?w:b},S=function(n){if($.isAuthenticated()&&!w[T.auth.remember_name]){var i=(new Date).getTime(),r=Math.floor((i-(E()[T.auth.last_action_name]||0))/1e3);return $.isAuthenticated()&&r>=o?(n&&n.abort(),e.$emit("$auth.expired",{lastAction:E()[T.auth.last_action_name],timespan:r,data:t.copy(a)}),O(),0):i}return 0},M=function(){$.isAuthenticated()&&!w[T.auth.remember_name]&&(E()[T.auth.last_action_name]=(new Date).getTime())},L=function(){if($.isAuthenticated()&&!w[T.auth.remember_name]){var n=(new Date).getTime(),o=Math.floor((n-(E()[T.auth.last_action_name]||0))/1e3);e.$emit("$auth.expired",{lastAction:E()[T.auth.last_action_name],timespan:o,data:t.copy(a)}),O()}},R=function(t){""!=r&&$.isAuthenticated()&&(m||(m=!0,y.get(r).then(function(n){$.handleResponseError(n,t)},function(n){$.handleResponseError(n,t)}).finally(function(){m=!1})))},D=function(t){E()[T.auth.header_name]=t},j=function(){delete w[T.auth.header_name],delete b[T.auth.header_name]};E()[T.auth.last_action_name]||(E()[T.auth.last_action_name]=(new Date).getTime()),w[T.auth.remember_name]||(w[T.auth.remember_name]=!1),$=function(n){return n&&t.isObjectType(n)&&$.update(n),$.data()},Object.defineProperty($,"authToken",{set:function(t){throw"It is not allowed to set auth token from service!"},get:function(){return E()[T.auth.header_name]},enumerable:!0}),$.clone=function(){return t.copy($.data())},$.getStateAuth=function(){return l.auth},$.getStateMain=function(){return l.main},$.getExcluded=function(){return l.excluded},$.handleRequest=function(t){return E()[T.auth.last_action_name]=(new Date).getTime(),t},$.handleResponseError=function(t,n){return n&&n.abort(),t.status==s.check?$.clear():t.status==s.expiration&&L(),t},$.setRemember=function(t){return w[T.auth.remember_name]=!!t,n.defaults.headers.common[h]=w[T.auth.remember_name],$},$.getRemember=function(){return w[T.auth.remember_name]},$.data=function(){return a},$.isAuthenticated=function(){return null!=a},$.loading=function(n){return _.loading=n||t.noop,$},$.done=function(n){return _.done=n||t.noop,$},$.isExpired=function(){var t=(new Date).getTime(),n=parseInt((t-(E()[T.auth.last_action_name]||0))/1e3);return $.isAuthenticated()&&!w[T.auth.remember_name]&&(!a||n>=o)},$.update=function(t){return $.isAuthenticated()&&(a=t,e.$emit("$auth.update",a)),$},$.quick=function(o){var i=o.headers();(i&&void 0!=i[p]||void 0!=i[p.toLowerCase()])&&(D(i[p]||i[p.toLowerCase()]||""),n.defaults.headers.common[p]=$.authToken),E()[T.auth.last_action_name]=(new Date).getTime(),a=(f||t.identity)(o.data),e.$emit("$auth.authenticate",a)},$.authenticate=function(o){_.loading();var r=C.defer(),u={},s=v.injector();return t.forEach(d,function(n,e){t.isArray(n)?u[e]=s.invoke(n):u[e]=n}),y.post(i,o,{headers:u}).then(function(o){if(!0===(null===c||c(o))){var i=o.headers();void 0==i[p]&&void 0==i[p.toLowerCase()]||(D(i[p]||i[p.toLowerCase()]||""),n.defaults.headers.common[p]=$.authToken),E()[T.auth.last_action_name]=(new Date).getTime(),a=(f||t.identity)(o.data),r.resolve(o.data||{}),e.$emit("$auth.authenticate",a)}else r.reject(o.data||{});_.done()}),r.promise},$.clear=function(t){var n=[];return t&&n.push(t($)),C.all(n).then(function(){var t=O();e.$emit("$auth.clear",t)})},$.capture=function(){g||(g=!0,x.onStart({},function(t){var n=t.to();I(t,n)}),t.element(document.body).on("click",M))},$.isAuthenticated()&&$.authToken&&(n.defaults.headers.common[p]=$.authToken),n.defaults.headers.common[h]=w[T.auth.remember_name];var O=function(){var e=t.copy(a);return a=null,delete w[T.auth.remember_name],delete w[T.auth.last_action_name],delete b[T.auth.last_action_name],j(),delete n.defaults.headers.common[p],delete n.defaults.headers.common[h],e},I=function(t,n){if(-1==l.excluded.indexOf(n.name)){var e=$.isAuthenticated();if(""!=l.auth.name&&""!=l.main.name&&n.name==l.auth.name&&e)return t.abort(),void k.go(l.main.name,l.main.params,l.main.options);if(""!=l.auth.name&&n.name!=l.auth.name&&!e)return t.abort(),void k.go(l.auth.name,l.auth.params,l.auth.options)}};return $.capture(),x.onStart({},function(t){if(u){var n=t.to();I(t,n),E()[T.auth.last_action_name]=(new Date).getTime(),u=!1,$.isExpired()?(t.abort(),$.clear()):R(t)}else $.getRemember()||R();var e=S(t);e>0&&(E()[T.auth.last_action_name]=e)}),A(function(){S()},1e4),e.$on("$destroy",function(){t.element(document.body).off("click",M)}),$}]}])}(angular),function(t){"use strict";t.module("nb.backbutton",["ui.router"]).directive("nbBackButton",["$rootScope","$state","$transitions","$timeout",function(t,n,e,a){return{restrict:"EA",transclude:!0,scope:{name:"@",state:"="},link:function(o,i,r,u,c){i.addClass("nb-back-button").addClass("ng-hide");var s=!1;if(c(o,function(t){i.prepend(t)}),o.name||o.state){var l=t.$on("$nb.backbutton.get",function(){t.$emit("$nb.backbutton.give",{name:o.name,state:o.state})});t.$emit("$nb.backbutton",null),o.$on("$destroy",function(){l()})}else{o.$back=function(){t.$emit("$nb.backbutton.get")};var d=t.$on("$nb.backbutton.give",function(t,e){e.state?n.go(e.state.state,e.state.params||{},e.state.options||{}):n.go(e.name)}),f=t.$on("$nb.backbutton",function(){s=!0,i.removeClass("ng-hide")});o.$on("$destroy",function(){d(),f()}),e.onStart({},function(){s=!1}),e.onSuccess({},function(){a(function(){s||i.addClass("ng-hide")},10)}),setTimeout(function(){s||i.addClass("ng-hide")},10)}}}}])}(angular),function(t){"use strict";t.module("nb.bottomsheet",[]).provider("$nbBottomSheet",[function(){this.$get=["$mdBottomSheet","$templateCache","$compile",function(n,e,a){var o=t.copy(n,function(){});return o.show=function(a){var o=t.extend({},a);if(o.preserveScope||(o.preserveScope=!0),o.template&&""!=o.template){var i=e.get(o.template);i&&(o.template=i)}return n.show(o)},o}]}])}(angular),function(t){"use strict";t.module("nb.config",[]).provider("$config",[function(){function n(e){return t.isObject(e)&&!t.isArray(e)&&(e.each=function(n){return t.forEach(this,function(t,e){-1==o.indexOf(e)&&n(t,e)}),this},e.keys=function(){var n=[];return t.forEach(this,function(t,e){-1==o.indexOf(e)&&n.push(e)}),n},e.values=function(){var n=[];return t.forEach(this,function(t,e){-1==o.indexOf(e)&&n.push(t)}),n},e.has=function(t){return this.keys().indexOf(t)>-1},t.forEach(e,function(t,a){e[a]=n(t)})),e}var e=this,a=null,o=["each","keys","values","has"];e.set=function(t){a=n(t)},e.get=function(){return a},e.$get=[function(){return a}]}])}(angular),function(t){"use strict";t.module("nb.cordova",[]).directive("ifCordova",["ngIfDirective","$cordova",function(t,n){var e=t[0];return{transclude:e.transclude,priority:e.priority,terminal:e.terminal,restrict:e.restrict,link:function(t,a,o,i,r){o.ngIf=function(){return n.exists()},e.link.call(e,t,a,o,i,r)}}}]).directive("showCordova",["$cordova",function(t){return{restrict:"A",link:function(n,e){t.exists()?e.removeClass("ng-hide"):e.addClass("ng-hide")}}}]).directive("hideCordova",["$cordova",function(t){return{restrict:"A",link:function(n,e){t.exists()?e.addClass("ng-hide"):e.removeClass("ng-hide")}}}]).provider("$cordova",[function(){this.$get=[function(){var t=function(){return t.exists()?window.cordova:null};return t.exists=function(){return void 0!=window.cordova},t.is=function(){return t.exists()},t}]}]).provider("$plugins",[function(){this.$get=["$cordova",function(t){var n=function(e){return e&&""!=e?n.get(e):n.cordova()?t().plugins:null};return n.cordova=function(){return t.exists()&&t().plugins},n.exists=function(e){return n.cordova()&&void 0!=t().plugins[e]},n.get=function(e){return n.exists(e)?t().plugins[e]:null},n}]}])}(angular),function(t){"use strict";t.module("nb.dialog",[]).provider("$nbDialog",[function(){var n=this,e={defaultAction:{label:"Close",type:""}},a=function(n){var e=[];return t.isObject(n)?t.isArray(n)?t.forEach(n,function(t){e.push(t)}):t.forEach(n,function(n){t.forEach(n,function(t){e.push(t)})}):e.push(n),"{{'"+e.join("'|translate}}<br />{{'")+"'|translate}}"};n.setOptions=function(n){e=t.merge(e,n||{})},n.$get=["$mdDialog",function(n){var o={},i=t.copy(n,o);return i.dialog=function(o,r){var u=t.copy(e);if((u=t.merge(u,r&&r.options?r.options:{})).locals||(u.locals={}),u.locals.actions||(u.locals.actions={}),u.controller="nbDialogController",u.template='<md-dialog><md-dialog-content class="md-dialog-content">',u.title&&""!=u.title&&(u.template+='<h2 class="md-title">{{\''+u.title+"'|translate}}</h2>"),u.template+=a(o)+"</md-dialog-content>",r){var c,s={},l=0,d=[];if(t.forEach(r,function(t,n){"options"!=n&&"function"==typeof t&&(c=t(i))&&(l=Math.round(1e3*Math.random())+"-"+Math.round(1e3*Math.random()),s[l]=c.action,d.push("<md-button flex"+(c.type&&""!=c.type?' class="'+c.type+'"':"")+" ng-click=\"actions.action($event, '"+l+"')\">{{'"+n+"'|translate}}</md-button>"))}),u.locals={$actions:s},!d.length){l=Math.round(1e3*Math.random())+"-"+Math.round(1e3*Math.random());s[l]=function(){n.hide()},d.push("<md-button flex"+(e.defaultAction.type&&""!=e.defaultAction.type?' class="'+e.defaultAction.type+'"':"")+" ng-click=\"actions.action($event, '"+l+"')\">{{'"+e.defaultAction.label+"'|translate}}</md-button>")}u.template+='<md-dialog-actions layout="row" layout-align="center center">',u.template+=d.join("\n"),u.template+="</md-dialog-actions>"}return u.template+="</md-dialog>",n.show(u)},i}]}]).controller("nbDialogController",["$scope","$nbDialog","$actions",function(t,n,e){t.actions={action:function(t,n){e[n].call(null,t.currentTarget)}}}])}(angular),function(t){"use strict";t.module("nb.fetch",["pascalprecht.translate"]).provider("$fetchLocale",[function(){var n=this,e="X-Locale-Code";n.setHeader=function(t){return e=t,n},n.$get=["$http","$translate",function(n,a){var o=function(n){var o={headers:{}};return o.headers[e]=a.use(),t.merge({},n,o)},i=t.copy(n,function(t){return t?t.headers||(t.headers={}):t={headers:{}},t.headers[e]=a.use(),n(t)});return i.get=function(t,e){return n.get(t,o(e))},i.head=function(t,e){return n.head(t,o(e))},i.post=function(t,e,a){return n.post(t,e,o(a))},i.put=function(t,e,a){return n.put(t,e,o(a))},i.delete=function(t,e){return n.delete(t,o(e))},i.jsonp=function(t,e){return n.jsonp(t,o(e))},i.patch=function(t,e,a){return n.patch(t,e,o(a))},i}]}]).provider("$fetchHost",[function(){var n=this,e="";n.setUrl=function(t){return e=t,n},n.$get=["$fetchLocale",function(n){var a=t.copy(n,function(t){return t&&t.url&&""!=t.url&&(t.url=e+t.url),n(t)});return a.get=function(t,a){return n.get(e+t,a)},a.head=function(t,a){return n.head(e+t,a)},a.post=function(t,a,o){return n.post(e+t,a,o)},a.put=function(t,a,o){return n.put(e+t,a,o)},a.delete=function(t,a){return n.delete(e+t,a)},a.jsonp=function(t,a){return n.jsonp(e+t,a)},a.patch=function(t,a,o){return n.patch(e+t,a,o)},a}]}]).provider("$fetchLaravel",[function(){var n=this,e="";n.setUrl=function(t){return e=t,n},n.$get=["$fetchHost",function(n){var a=t.copy(n,function(t){return t&&t.url&&""!=t.url&&(t.url=e+t.url),n(t)});return a.get=function(t,a){return n.get(e+t,a)},a.head=function(t,a){var o={_method:"HEAD"};return n.post(e+t,o,a)},a.post=function(t,a,o){return n.post(e+t,a,o)},a.put=function(t,a,o){return a._method="PUT",n.post(e+t,a,o)},a.delete=function(t,a){var o={_method:"DELETE"};return n.post(e+t,o,a)},a.jsonp=function(t,a){return n.jsonp(e+t,a)},a.patch=function(t,a,o){return a._method="PATCH",n.post(e+t,a,o)},a}]}])}(angular),function(t){"use strict";t.module("nb.history",[]).provider("$history",[function(){this.$get=["$window",function(t){var n=function(){};return n.back=function(){t.history.back()},n.forward=function(){t.history.forward()},n}]}])}(angular),function(t){"use strict";var n=function(n,e,a,o,i){var r=this;e.addClass("nb-list");var u={common:function(t){n.$count=n.$rows.length,n.$total=t,n.$more=n.$count<n.$total,n.$pages=Math.ceil(n.$total/o.limit()),n.$pageMin=1,n.$pageMax=n.$pages,n.$prev=n.$page>n.$pageMin,n.$next=n.$page<n.$pageMax;var e=n.$page-1;e<1&&(e=1);var a=n.$page+1;a>n.$pages&&(a=n.$pages),n.$prevPage=isNaN(e)?1:e,n.$nextPage=isNaN(a)?1:a,n.$pagination=n.$pages>1;for(var i=[],r=o.range(),u=[],c=n.$pageMin,s=n.$pageMax,l=1;l<=n.$pages;l++)i.push(l);n.$paginator=i,r>0&&((c=n.$page-r)<n.$pageMin&&(c=n.$pageMin),(s=n.$page+r)>n.$pageMax&&(s=n.$pageMax));for(l=c;l<=s;l++)u.push(l);n.$range=u,n.$pageMinInRange=n.$range.indexOf(n.$pageMin)>-1,n.$pageMaxInRange=n.$range.indexOf(n.$pageMax)>-1},init:function(e,a){var o=[];t.forEach(e,function(t){o.push(n.mapRow(t))}),n.$rows=o,n.$page=1,u.common(a),n.$init=!0},more:function(a,o){var i=e.parents("md-content"),c=e.height();n.$page>n.$pageMin&&(n.$rows=[]),t.forEach(a,function(t){n.$rows.push(t)}),n.$page=n.$pageMin,u.common(o),r.$timeout(function(){i.first().animate({scrollTop:c-i.offset().top},500)},10)},page:function(e,a,o){var i=[];t.forEach(a,function(t){i.push(t)}),n.$rows=i,n.$page=e+1,u.common(o)}};i(n,function(t){e.prepend(t)}),n.$offset=o.offset(),n.$limit=o.limit(),n.$loading=!0,n.$init=!1,n.$firstLoad=!1,n.$rows=[],n.$paginator=[],u.common(0),n.$nbList={load:function(e){if(t.isArray(n.source))u.init(n.source,n.source.length),n.$loading=!1;else if(t.isFunction(n.source)){n.$loading=!0,n.$init||(n.$firstLoad=!0);var a=n.source.call(n,{offset:e?0:o.offset(),limit:e||o.limit()});t.isArray(a)?(u.init(a,a.length),n.$loading=!1,n.$firstLoad=!1):a&&a.then(function(t){u.init(o.mapRows(t.data),o.mapTotal(t.data))},function(t){console.log(t.status+" - "+t.statusText),u.init([],0)}).finally(function(){n.$loading=!1,n.$firstLoad=!1})}},refresh:function(){n.$page>1?this.page(n.$page):this.load()},reset:function(){n.offset=0,n.$nbList.load()},clear:function(){u.init([],0)},more:function(){n.$loading=!0,n.$init||(n.$firstLoad=!0);var e=o.offset()+o.limit();n.$page>n.$pageMin&&(e=0);var a=n.source.call(n,{offset:e,limit:o.limit()});n.offset=e,t.isArray(a)?(u.more(a,a.length),n.$loading=!1,n.$firstLoad=!1):a.then(function(t){u.more(o.mapRows(t.data),o.mapTotal(t.data))},function(t){console.log(t.status+" - "+t.statusText),u.more([],0)}).finally(function(){n.$loading=!1,n.$firstLoad=!1})},page:function(e){n.$loading=!0,n.$init||(n.$firstLoad=!0);var a=e-1;a<0?a=0:a>=n.$pages&&(a=n.pages-1);var i=a*o.limit(),r=n.source.call(n,{offset:i,limit:o.limit()});n.offset=i,n.offset=i,t.isArray(r)?(u.page(a,r,r.length),n.$loading=!1,n.$firstLoad=!1):r.then(function(t){u.page(a,o.mapRows(t.data),o.mapTotal(t.data))},function(t){console.log(t.status+" - "+t.statusText),u.page(a,[],0)}).finally(function(){n.$loading=!1,n.$firstLoad=!1})}},!0===n.autostart&&(console.log("autostart"),n.$nbList.load())};t.module("nb.list",[]).provider("$nbList",[function(){var t=this,n={limit:10,range:0,paginationTemplate:"",map:{rows:function(t){return t.rows},total:function(t){return t.total}}};t.limit=function(t){return n.limit=t,n.limit},t.range=function(t){return n.range=t,n.range},t.paginationTemplate=function(t){return n.paginationTemplate=t,n.paginationTemplate},t.mapRows=function(t){return n.map.rows=t,n.map.rows},t.mapTotal=function(t){return n.map.total=t,n.map.total},t.$get=[function(){var t=function(){};return t.limit=function(){return n.limit},t.range=function(){return n.range},t.paginationTemplate=function(){return n.paginationTemplate},t.mapRows=function(t){return n.map.rows.call(this,t)},t.mapTotal=function(t){return n.map.total.call(this,t)},t}]}]).directive("nbList",["$nbList","$compile","$templateCache","$q","$http","$timeout","$document","$window",function(e,a,o,i,r,u,c,s){return{restrict:"EA",transclude:!0,scope:{source:"=",offset:"@",limit:"@",range:"@",locals:"=",paginationTemplate:"@",$nbList:"=control",autostart:"@",mapRow:"=?mapRow"},controller:["$scope",function(t){var n=this;n.offset=function(){return 1*(t.offset||0)},n.limit=function(){return 1*(t.limit||e.limit())},n.range=function(){return 1*(t.range||e.range())},n.paginationTemplate=function(){return t.paginationTemplate||e.paginationTemplate()},n.mapRows=function(t){return e.mapRows(t)},n.mapTotal=function(t){return e.mapTotal(t)}}],link:function(e,l,d,f){var m=i.defer(),p=f.paginationTemplate(),h=arguments;if(!1!==e.autostart&&(e.autostart=!0),e.mapRow||(e.mapRow=t.identity),m.promise.then(function(t){if(""!=t){var o=a(t)(e);l.append(o)}n.apply({$timeout:u,$document:c,$window:s},h)}),void 0!=p&&""!=p){var g=o.get(p);void 0!=g&&""!=g?m.resolve(g):r.get(p).then(function(t){m.resolve(t.data)},function(){m.resolve("")})}else m.resolve("")}}}]).directive("nbListScroll",["$window",function(t){return{restrict:"A",require:"nbList",priority:1,link:function(t,n,e){n.addClass("nb-list-scroll")}}}]).directive("nbListRow",[function(){return{restrict:"EA",link:function(t,n){n.addClass("nb-list-row")}}}]).directive("nbListCell",[function(){return{restrict:"EA",link:function(t,n){n.addClass("nb-list-cell")}}}])}(angular),function(t){"use strict";t.module("nb.listener",[]).provider("$listener",[function(){var n=function(n){var e=this,a=[];e.$on=function(t,o,i){return a.push(n.$on(t,o)),e},e.$clear=function(){return t.forEach(a,function(t){t()}),a=[],e},n.$on("$destroy",function(){e.$clear()})};this.$get=[function(){return function(t){return new n(t)}}]}])}(angular),function(t){"use strict";t.module("nb.loader",["ngMaterial"]).directive("nbLoader",["$rootScope","$timeout","$injector",function(t,n,e){return{restrict:"E",template:'<md-backdrop class="md-dialog-backdrop md-opaque" ng-if="data.visible>0"></md-backdrop><div ng-if="data.visible>0"><md-whiteframe class="md-whiteframe-2dp" ng-if="data.label" layout="row" layout-align="center center"><md-progress-circular md-mode="indeterminate"></md-progress-circular>{{data.label}}</md-whiteframe><div ng-if="!(data.label)"><md-progress-circular md-mode="indeterminate"></md-progress-circular><div></div>',scope:{},link:function(a){a.data={visible:0,label:null};var o=null;try{o=e.get("$translate")}catch(t){}t.$on("$nbloader.show",function(t,e){a.data.visible=a.data.visible+1,o?o(e.label).then(function(t){a.data.label=t},function(t){a.data.label=t}):a.data.label=e.label,n(function(){a.$apply()})}),t.$on("$nbloader.hide",function(t){var e=1*a.data.visible;--e<0&&(e=0),a.data.visible=e,0==e&&(a.data.label=null),n(function(){a.$apply()})})}}}]).provider("$nbLoader",[function(){this.$get=["$rootScope",function(t){var n=function(){};return n.show=function(n){t.$emit("$nbloader.show",{label:n})},n.hide=function(){t.$emit("$nbloader.hide")},n}]}])}(angular),function(t){"use strict";t.module("nb.pincode",["nb.auth"]).provider("$pinCode",[function(){var n=this,e=4,a={empty:"PIN is empty",same:"Pin and its repeat is not the same",size:"Pin is too short"},o={};n.validationMessage=function(t,e){return a[t]=e,n},n.size=function(t){return t&&(e=parseInt(t)),e},n.$get=["$rootScope","$localStorage","$q","$auth","$translate",function(n,i,r,u,c){var s=function(){return s.available()};s.available=function(){return i.pinCode&&""!=i.pinCode},s.size=function(){return e},s.clear=function(){var t=i.pinCode?i.pinCode+"":"";i.pinCode="",n.$emit("$pincode.clear",t),n.$emit("$pincode.change",t)},s.get=function(){return i.pinCode||""},s.validate=function(t,u){var c=r.defer(),s=null;return t&&""!=t?t.length<e?s=o[a.size]:u&&u!=t&&(s=o[a.same]):s=o[a.empty],null==s?(i.pinCode=t,c.resolve(i.pinCode),n.$emit("$pincode.validate",t),n.$emit("$pincode.change",t)):c.reject({reason:s,pin:t,repeat:u}),c.promise},s.authenticate=function(t){var e=r.defer();return s.validate(t).then(function(t){i.pinCode==t&&(i.pinAuthData=u(),e.resolve(u()),n.$emit("$pincode.authenticate",t))},function(t){e.reject(t)}),e.promise};var l=[];return t.forEach(a,function(t){l.push(t)}),c(l).then(function(t){o=t},function(t){o=t}),s}]}])}(angular),function(t){"use strict";t.module("nb.table",[]).directive("nbTable",[function(){return{restrict:"A",link:function(t,n){n.addClass("nb-table")}}}]).directive("nbTableStriped",[function(){return{restrict:"A",link:function(t,n){n.addClass("nb-table").addClass("nb-table-striped")}}}]).directive("nbTableHover",[function(){return{restrict:"A",link:function(t,n){n.addClass("nb-table").addClass("nb-table-hover")}}}]).directive("nbTableCell",[function(){return{restrict:"EA",link:function(t,n){n.addClass("nb-table-cell")}}}])}(angular),function(t){"use strict";t.module("nb.toast",[]).provider("$nbToast",[function(){var n=this,e={hideDelay:4e3,position:"bottom right"},a=function(n){var e=[];return t.isObject(n)?t.isArray(n)?t.forEach(n,function(t){e.push(t)}):t.forEach(n,function(n){t.forEach(n,function(t){e.push(t)})}):e.push(n),"{{'"+e.join("'|translate}}<br />{{'")+"'|translate}}"};n.setOptions=function(n){e=t.merge(e,n||{})},n.$get=["$mdToast",function(n){var o={},i=t.copy(n,o);return i.info=function(o,i){var r=t.copy(e);return r=t.merge(r,i||{}),r.controller="nbToastController",r.template='<md-toast class="multiline"><div class="md-toast-text">'+a(o)+"</div></md-toast>",r.locals={actions:{}},n.show(r)},i.alert=function(o,i){var r=t.copy(e),u=!1;return(r=t.merge(r,i||{}))&&void 0!=r.highlight&&(u=!0===r.highlight,delete r.highlight),r.controller="nbToastController",r.template='<md-toast class="multiline"><div class="md-toast-text">'+a(o)+"</div><md-button"+(u?' class="md-highlight"':"")+" ng-click=\"actions.hide()\">{{'client.action.close'|translate}}</md-button></md-toast>",r.locals={actions:{}},n.show(r)},i.show=i.alert,i.confirm=function(o,r){var u=t.copy(e);(u=t.merge(u,r&&r.options?r.options:{})).controller="nbToastController",u.template='<md-toast class="multiline"><div class="md-toast-text">'+a(o)+"</div>";var c={};return r&&t.forEach(r,function(t,n){var e=t(i);if(e){var a=Math.round(1e3*Math.random())+"-"+Math.round(1e3*Math.random());c[a]=e.action,u.template+="<md-button"+(!0===e.highlight?' class="md-highlight"':"")+" ng-click=\"actions.action($event, '"+a+"')\">{{'"+n+"'|translate}}</md-button>"}}),u.locals={actions:c},u.template+="</md-toast>",n.show(u)},i}]}]).controller("nbToastController",["$scope","$nbToast","actions",function(t,n,e){t.actions={hide:function(){n.hide()},action:function(t,n){e[n].call(null,t.currentTarget)}}}])}(angular);