!function(t){"use strict";t.module("nb.acl",["nb.auth"]).directive("nbAclIfAllowed",["ngIfDirective","$acl",function(t,n){var e=t[0];return{transclude:e.transclude,priority:e.priority,terminal:e.terminal,restrict:e.restrict,link:function(t,a,i,o,r){i.ngIf=function(){return n.isAllowed(i.nbAclIfAllowed)},e.link.call(e,t,a,i,o,r)}}}]).directive("nbAclShowAllowed",["$acl","$rootScope",function(t,n){return{restrict:"A",link:function(e,a,i){t.isAllowed(i.nbAclShowAllowed)?a.removeClass("acl-hide"):a.addClass("acl-hide"),n.$on("$acl.update.rights",function(){t.isAllowed(i.nbAclShowAllowed)?a.removeClass("acl-hide"):a.addClass("acl-hide")}),n.$on("$acl.update.groups",function(){t.isAllowed(i.nbAclShowAllowed)?a.removeClass("acl-hide"):a.addClass("acl-hide")})}}}]).directive("nbAclIfGroup",["ngIfDirective","$acl",function(t,n){var e=t[0];return{transclude:e.transclude,priority:e.priority,terminal:e.terminal,restrict:e.restrict,link:function(t,a,i,o,r){i.ngIf=function(){return n.isGroup(i.nbAclIfGroup)},e.link.call(e,t,a,i,o,r)}}}]).directive("nbAclShowGroup",["$acl","$rootScope",function(t,n){return{restrict:"A",link:function(e,a,i){t.isGroup(i.nbAclShowGroup)?a.removeClass("acl-hide"):a.addClass("acl-hide"),n.$on("$acl.update.groups",function(){t.isGroup(i.nbAclShowGroup)?a.removeClass("acl-hide"):a.addClass("acl-hide")})}}}]).provider("$acl",[function(){var n;this.$get=["$rootScope","$localStorage","$state","$auth","$transitions",function(e,a,i,o,r){return a.aclRights||(a.aclRights=[]),a.aclGroups||(a.aclGroups=[]),n=function(t){return t?n.isAllowed(t):n.rights()},n.isAllowed=function(e){var a=n.rights(),i=[];t.isArray(e)?i=e:t.isString(e)&&(i=e.split("|"));var o=!1;return t.forEach(i,function(t){!o&&a.indexOf(t)>-1&&(o=!0)}),o},n.isGroup=function(e){var a=n.groups(),i=[],o=!1;return t.isArray(e)?i=e:t.isString(e)&&(i=e.split("|")),t.forEach(i,function(t){if(!o){var e=t,i=[];t.indexOf(":")>-1&&(e=t.substr(0,t.indexOf(":")),i=t.substr(t.indexOf(":")+1)),a.indexOf(e)>-1&&(o=!i.length||n.isAllowed(i.replace(/;/gi,"|").replace(/,/gi,"|")))}}),o},n.rights=function(n){return n&&t.isArray(n)&&(a.aclRights=n||[],e.$emit("$acl.update.rights",a.aclRights)),a.aclRights||[]},n.groups=function(n){return n&&t.isArray(n)&&(a.aclGroups=n||[],e.$emit("$acl.update.groups",a.aclGroups)),a.aclGroups||[]},r.onStart({},function(e){var a=e.to();if(a.params.acl){var r=a.params.acl;if(t.isString(a.params.acl)&&(r=a.params.acl.split("|")),r.length&&!n.isAllowed(r)){e.abort();var u=o.getStateMain();i.go(u.name,u.params,u.options)}}}),n}]}])}(angular),function(t){"use strict";t.module("nb.auth",["ui.router","ngStorage"]).provider("$auth",["$httpProvider",function(n){var e=this,a=900,i="",o="",r=!0,u=null,c={check:401,expiration:403},s={auth:{name:"",params:{},options:{}},main:{name:"",params:{},options:{}},excluded:[]},l={},d=t.identity,f=!1,p="X-Auth-Token",h="X-Auth-Remember",m=!1;e.setCondition=function(t){return u=t,e},e.setMapSource=function(t){return d=t,e},e.setStateAuth=function(t,n,a){return s.auth.name=t||"",s.auth.params=n||{},s.auth.options=a||{},e},e.setStateMain=function(t,n,a){return s.main.name=t||"",s.main.params=n||{},s.main.options=a||{},e},e.setExcluded=function(t){return t.excluded=t,e},e.addExcluded=function(t){return s.excluded.push(t),e},e.setAuthUrl=function(t){return i=t,e},e.setCheckUrl=function(t){return o=t,e},e.setExpiration=function(t){return a=t,e},e.setStatusCheck=function(t){return c.check=t,e},e.setStatusExpiration=function(t){return c.expiration=t,e},e.setHeaderName=function(t){return p=t,e},e.setRememberName=function(t){return h=t,e},e.addHeader=function(t,n){l[t]=n};var g;n.interceptors.push(["$q",function(t){return{request:function(t){return g.handleRequest&&-1==t.url.indexOf(o)?g.handleRequest(t):t},responseError:function(n){return t.reject(g.handleResponseError?g.handleResponseError(n):n)}}}]),e.$get=["$rootScope","$rootElement","$sessionStorage","$localStorage","$http","$interval","$q","$state","$transitions",function(e,$,v,b,A,w,y,C,k){var x={loading:t.noop,done:t.noop},T=function(){return!0===b.authRemember?b:v},R=function(n){if(g.isAuthenticated()&&!b.authRemember){var i=(new Date).getTime(),o=Math.floor((i-(T().authLastAction||0))/1e3);return g.isAuthenticated()&&o>=a?(n&&n.abort(),e.$emit("$auth.expired",{lastAction:T().authLastAction,timespan:o,data:t.copy(T().authData)}),L(),0):i}return 0},S=function(){g.isAuthenticated()&&!b.authRemember&&(T().authLastAction=(new Date).getTime())},E=function(){if(g.isAuthenticated()&&!b.authRemember){var n=(new Date).getTime(),a=Math.floor((n-(T().authLastAction||0))/1e3);e.$emit("$auth.expired",{lastAction:T().authLastAction,timespan:a,data:t.copy(T().authData)}),L()}},M=function(t){""!=o&&g.isAuthenticated()&&(f||(f=!0,A.get(o).then(function(n){g.handleResponseError(n,t)},function(n){g.handleResponseError(n,t)}).finally(function(){f=!1})))};T().authLastAction||(T().authLastAction=(new Date).getTime()),b.authRemember||(b.authRemember=!1),(g=function(n){return n&&t.isObjectType(n)&&g.update(n),g.data()}).clone=function(){return t.copy(g.data())},g.getStateAuth=function(){return s.auth},g.getStateMain=function(){return s.main},g.getExcluded=function(){return s.excluded},g.handleRequest=function(t){return T().authLastAction=(new Date).getTime(),t},g.handleResponseError=function(t,n){return n&&n.abort(),t.status==c.check?g.clear():t.status==c.expiration&&E(),t},g.setRemember=function(t){return b.authRemember=!!t,n.defaults.headers.common[h]=b.authRemember,g},g.getRemember=function(){return b.authRemember},g.data=function(){return T().authData},g.isAuthenticated=function(){return!0===T().authAuthenticated},g.loading=function(n){return x.loading=n||t.noop,g},g.done=function(n){return x.done=n||t.noop,g},g.isExpired=function(){var t=(new Date).getTime(),n=parseInt((t-(T().authLastAction||0))/1e3);return g.isAuthenticated()&&!b.authRemember&&(!T().authData||n>=a)},g.update=function(t){return g.isAuthenticated()&&(T().authData=t,e.$emit("$auth.update",T().authData)),g},g.quick=function(a){var i=a.headers();(i&&void 0!=i[p]||void 0!=i[p.toLowerCase()])&&(T().authToken=i[p]||i[p.toLowerCase()]||"",n.defaults.headers.common[p]=T().authToken),T().authLastAction=(new Date).getTime(),T().authAuthenticated=!0,T().authData=(d||t.identity)(a.data),e.$emit("$auth.authenticate",T().authData)},g.authenticate=function(a){x.loading();var o=y.defer(),r={},c=$.injector();return t.forEach(l,function(n,e){t.isArray(n)?r[e]=c.invoke(n):r[e]=n}),A.post(i,a,{headers:r}).then(function(a){if(!0===(null===u||u(a))){var i=a.headers();void 0==i[p]&&void 0==i[p.toLowerCase()]||(T().authToken=i[p]||i[p.toLowerCase()]||"",n.defaults.headers.common[p]=T().authToken),T().authLastAction=(new Date).getTime(),T().authAuthenticated=!0,T().authData=(d||t.identity)(a.data),o.resolve(a.data||{}),e.$emit("$auth.authenticate",T().authData)}else o.reject(a.data||{});x.done()}),o.promise},g.clear=function(t){var n=[];return t&&n.push(t(g)),y.all(n).then(function(){var t=L();e.$emit("$auth.clear",t)})},g.capture=function(){m||(m=!0,k.onStart({},function(t){var n=t.to();D(t,n)}),t.element(document.body).on("click",S))},g.isAuthenticated()&&T().authToken&&(n.defaults.headers.common[p]=T().authToken),n.defaults.headers.common[h]=b.authRemember;var L=function(){var e=t.copy(T().authData);return T().authAuthenticated=!1,delete b.authRemember,delete b.authData,delete v.authData,delete b.authLastAction,delete v.authLastAction,delete b.authToken,delete v.authToken,delete n.defaults.headers.common[p],delete n.defaults.headers.common[h],e},D=function(t,n){if(-1==s.excluded.indexOf(n.name)){var e=g.isAuthenticated();if(""!=s.auth.name&&""!=s.main.name&&n.name==s.auth.name&&e)return t.abort(),void C.go(s.main.name,s.main.params,s.main.options);if(""!=s.auth.name&&n.name!=s.auth.name&&!e)return t.abort(),void C.go(s.auth.name,s.auth.params,s.auth.options)}};return g.capture(),k.onStart({},function(t){if(r){var n=t.to();D(t,n),T().authLastAction=(new Date).getTime(),r=!1,g.isExpired()?(t.abort(),g.clear()):M(t)}else g.getRemember()||M();var e=R(t);e>0&&(T().authLastAction=e)}),w(function(){R()},1e4),e.$on("$destroy",function(){t.element(document.body).off("click",S)}),g}]}])}(angular),function(t){"use strict";t.module("nb.backbutton",["ui.router"]).directive("nbBackButton",["$rootScope","$state","$transitions","$timeout",function(t,n,e,a){return{restrict:"EA",transclude:!0,scope:{name:"@",state:"="},link:function(i,o,r,u,c){o.addClass("nb-back-button").addClass("ng-hide");var s=!1;if(c(i,function(t){o.prepend(t)}),i.name||i.state){var l=t.$on("$nb.backbutton.get",function(){t.$emit("$nb.backbutton.give",{name:i.name,state:i.state})});t.$emit("$nb.backbutton",null),i.$on("$destroy",function(){l()})}else{i.$back=function(){t.$emit("$nb.backbutton.get")};var d=t.$on("$nb.backbutton.give",function(t,e){e.state?n.go(e.state.state,e.state.params||{},e.state.options||{}):n.go(e.name)}),f=t.$on("$nb.backbutton",function(){s=!0,o.removeClass("ng-hide")});i.$on("$destroy",function(){d(),f()}),e.onStart({},function(){s=!1}),e.onSuccess({},function(){a(function(){s||o.addClass("ng-hide")},10)}),setTimeout(function(){s||o.addClass("ng-hide")},10)}}}}])}(angular),function(t){"use strict";t.module("nb.bottomsheet",[]).provider("$nbBottomSheet",[function(){this.$get=["$mdBottomSheet","$templateCache","$compile",function(n,e,a){var i=t.copy(n,function(){});return i.show=function(a){var i=t.extend({},a);if(i.preserveScope||(i.preserveScope=!0),i.template&&""!=i.template){var o=e.get(i.template);o&&(i.template=o)}return n.show(i)},i}]}])}(angular),function(t){"use strict";t.module("nb.config",[]).provider("$config",[function(){function n(e){return t.isObject(e)&&!t.isArray(e)&&(e.each=function(n){return t.forEach(this,function(t,e){-1==i.indexOf(e)&&n(t,e)}),this},e.keys=function(){var n=[];return t.forEach(this,function(t,e){-1==i.indexOf(e)&&n.push(e)}),n},e.values=function(){var n=[];return t.forEach(this,function(t,e){-1==i.indexOf(e)&&n.push(t)}),n},e.has=function(t){return this.keys().indexOf(t)>-1},t.forEach(e,function(t,a){e[a]=n(t)})),e}var e=this,a=null,i=["each","keys","values","has"];e.set=function(t){a=n(t)},e.get=function(){return a},e.$get=[function(){return a}]}])}(angular),function(t){"use strict";t.module("nb.cordova",[]).directive("ifCordova",["ngIfDirective","$cordova",function(t,n){var e=t[0];return{transclude:e.transclude,priority:e.priority,terminal:e.terminal,restrict:e.restrict,link:function(t,a,i,o,r){i.ngIf=function(){return n.exists()},e.link.call(e,t,a,i,o,r)}}}]).directive("showCordova",["$cordova",function(t){return{restrict:"A",link:function(n,e){t.exists()?e.removeClass("ng-hide"):e.addClass("ng-hide")}}}]).directive("hideCordova",["$cordova",function(t){return{restrict:"A",link:function(n,e){t.exists()?e.addClass("ng-hide"):e.removeClass("ng-hide")}}}]).provider("$cordova",[function(){this.$get=[function(){var t=function(){return t.exists()?window.cordova:null};return t.exists=function(){return void 0!=window.cordova},t.is=function(){return t.exists()},t}]}]).provider("$plugins",[function(){this.$get=["$cordova",function(t){var n=function(e){return e&&""!=e?n.get(e):n.cordova()?t().plugins:null};return n.cordova=function(){return t.exists()&&t().plugins},n.exists=function(e){return n.cordova()&&void 0!=t().plugins[e]},n.get=function(e){return n.exists(e)?t().plugins[e]:null},n}]}])}(angular),function(t){"use strict";t.module("nb.dialog",[]).provider("$nbDialog",[function(){var n=this,e={defaultAction:{label:"Close",type:""}},a=function(n){var e=[];return t.isObject(n)?t.isArray(n)?t.forEach(n,function(t){e.push(t)}):t.forEach(n,function(n){t.forEach(n,function(t){e.push(t)})}):e.push(n),"{{'"+e.join("'|translate}}<br />{{'")+"'|translate}}"};n.setOptions=function(n){e=t.merge(e,n||{})},n.$get=["$mdDialog",function(n){var i={},o=t.copy(n,i);return o.dialog=function(i,r){var u=t.copy(e);if((u=t.merge(u,r&&r.options?r.options:{})).locals||(u.locals={}),u.locals.actions||(u.locals.actions={}),u.controller="nbDialogController",u.template='<md-dialog><md-dialog-content class="md-dialog-content">',u.title&&""!=u.title&&(u.template+='<h2 class="md-title">{{\''+u.title+"'|translate}}</h2>"),u.template+=a(i)+"</md-dialog-content>",r){var c,s={},l=0,d=[];if(t.forEach(r,function(t,n){"options"!=n&&"function"==typeof t&&(c=t(o))&&(l=Math.round(1e3*Math.random())+"-"+Math.round(1e3*Math.random()),s[l]=c.action,d.push("<md-button flex"+(c.type&&""!=c.type?' class="'+c.type+'"':"")+" ng-click=\"actions.action($event, '"+l+"')\">{{'"+n+"'|translate}}</md-button>"))}),u.locals={$actions:s},!d.length){l=Math.round(1e3*Math.random())+"-"+Math.round(1e3*Math.random());s[l]=function(){n.hide()},d.push("<md-button flex"+(e.defaultAction.type&&""!=e.defaultAction.type?' class="'+e.defaultAction.type+'"':"")+" ng-click=\"actions.action($event, '"+l+"')\">{{'"+e.defaultAction.label+"'|translate}}</md-button>")}u.template+='<md-dialog-actions layout="row" layout-align="center center">',u.template+=d.join("\n"),u.template+="</md-dialog-actions>"}return u.template+="</md-dialog>",n.show(u)},o}]}]).controller("nbDialogController",["$scope","$nbDialog","$actions",function(t,n,e){t.actions={action:function(t,n){e[n].call(null,t.currentTarget)}}}])}(angular),function(t){"use strict";t.module("nb.fetch",["pascalprecht.translate"]).provider("$fetchLocale",[function(){var n=this,e="X-Locale-Code";n.setHeader=function(t){return e=t,n},n.$get=["$http","$translate",function(n,a){var i=function(n){var i={headers:{}};return i.headers[e]=a.use(),t.merge({},n,i)},o=t.copy(n,function(t){return t?t.headers||(t.headers={}):t={headers:{}},t.headers[e]=a.use(),n(t)});return o.get=function(t,e){return n.get(t,i(e))},o.head=function(t,e){return n.head(t,i(e))},o.post=function(t,e,a){return n.post(t,e,i(a))},o.put=function(t,e,a){return n.put(t,e,i(a))},o.delete=function(t,e){return n.delete(t,i(e))},o.jsonp=function(t,e){return n.jsonp(t,i(e))},o.patch=function(t,e,a){return n.patch(t,e,i(a))},o}]}]).provider("$fetchHost",[function(){var n=this,e="";n.setUrl=function(t){return e=t,n},n.$get=["$fetchLocale",function(n){var a=t.copy(n,function(t){return t&&t.url&&""!=t.url&&(t.url=e+t.url),n(t)});return a.get=function(t,a){return n.get(e+t,a)},a.head=function(t,a){return n.head(e+t,a)},a.post=function(t,a,i){return n.post(e+t,a,i)},a.put=function(t,a,i){return n.put(e+t,a,i)},a.delete=function(t,a){return n.delete(e+t,a)},a.jsonp=function(t,a){return n.jsonp(e+t,a)},a.patch=function(t,a,i){return n.patch(e+t,a,i)},a}]}])}(angular),function(t){"use strict";t.module("nb.history",[]).provider("$history",[function(){this.$get=["$window",function(t){var n=function(){};return n.back=function(){t.history.back()},n.forward=function(){t.history.forward()},n}]}])}(angular),function(t){"use strict";var n=function(n,e,a,i,o){var r=this;e.addClass("nb-list");var u={common:function(t){n.$count=n.$rows.length,n.$total=t,n.$more=n.$count<n.$total,n.$pages=Math.ceil(n.$total/i.limit()),n.$pageMin=1,n.$pageMax=n.$pages,n.$prev=n.$page>n.$pageMin,n.$next=n.$page<n.$pageMax;var e=n.$page-1;e<1&&(e=1);var a=n.$page+1;a>n.$pages&&(a=n.$pages),n.$prevPage=isNaN(e)?1:e,n.$nextPage=isNaN(a)?1:a,n.$pagination=n.$pages>1;for(var o=[],r=i.range(),u=[],c=n.$pageMin,s=n.$pageMax,l=1;l<=n.$pages;l++)o.push(l);n.$paginator=o,r>0&&((c=n.$page-r)<n.$pageMin&&(c=n.$pageMin),(s=n.$page+r)>n.$pageMax&&(s=n.$pageMax));for(l=c;l<=s;l++)u.push(l);n.$range=u,n.$pageMinInRange=n.$range.indexOf(n.$pageMin)>-1,n.$pageMaxInRange=n.$range.indexOf(n.$pageMax)>-1},init:function(e,a){var i=[];t.forEach(e,function(t){i.push(n.mapRow(t))}),n.$rows=i,n.$page=1,u.common(a),n.$init=!0},more:function(a,i){var o=e.parents("md-content"),c=e.height();n.$page>n.$pageMin&&(n.$rows=[]),t.forEach(a,function(t){n.$rows.push(t)}),n.$page=n.$pageMin,u.common(i),r.$timeout(function(){o.first().animate({scrollTop:c-o.offset().top},500)},10)},page:function(e,a,i){var o=[];t.forEach(a,function(t){o.push(t)}),n.$rows=o,n.$page=e+1,u.common(i)}};o(n,function(t){e.prepend(t)}),n.$offset=i.offset(),n.$limit=i.limit(),n.$loading=!0,n.$init=!1,n.$rows=[],n.$paginator=[],u.common(0),n.$nbList={load:function(e){if(t.isArray(n.source))u.init(n.source,n.source.length),n.$loading=!1;else if(t.isFunction(n.source)){n.$loading=!0;var a=n.source({offset:e?0:i.offset(),limit:e||i.limit()});t.isArray(a)?(u.init(a,a.length),n.$loading=!1):a&&a.then(function(t){u.init(i.mapRows(t.data),i.mapTotal(t.data))},function(t){console.log(t.status+" - "+t.statusText),u.init([],0)}).finally(function(){n.$loading=!1})}},refresh:function(){n.$page>1?this.page(n.$page):this.load(n.$count)},reset:function(){n.offset=0,n.offset=0,n.$nbList.load()},clear:function(){u.init([],0)},more:function(){n.$loading=!0;var e=i.offset()+i.limit();n.$page>n.$pageMin&&(e=0);var a=n.source({offset:e,limit:i.limit()});n.offset=e,n.offset=e,t.isArray(a)?(u.more(a,a.length),n.$loading=!1):a.then(function(t){u.more(i.mapRows(t.data),i.mapTotal(t.data))},function(t){console.log(t.status+" - "+t.statusText),u.more([],0)}).finally(function(){n.$loading=!1})},page:function(e){n.$loading=!0;var a=e-1;a<0?a=0:a>=n.$pages&&(a=n.pages-1);var o=a*i.limit(),r=n.source({offset:o,limit:i.limit()});n.offset=o,n.offset=o,t.isArray(r)?(u.page(a,r,r.length),n.$loading=!1):r.then(function(t){u.page(a,i.mapRows(t.data),i.mapTotal(t.data))},function(t){console.log(t.status+" - "+t.statusText),u.page(a,[],0)}).finally(function(){n.$loading=!1})}},!0===n.autostart&&n.$nbList.load()};t.module("nb.list",[]).provider("$nbList",[function(){var t=this,n={limit:10,range:0,paginationTemplate:"",map:{rows:function(t){return t.rows},total:function(t){return t.total}}};t.limit=function(t){return n.limit=t,n.limit},t.range=function(t){return n.range=t,n.range},t.paginationTemplate=function(t){return n.paginationTemplate=t,n.paginationTemplate},t.mapRows=function(t){return n.map.rows=t,n.map.rows},t.mapTotal=function(t){return n.map.total=t,n.map.total},t.$get=[function(){var t=function(){};return t.limit=function(){return n.limit},t.range=function(){return n.range},t.paginationTemplate=function(){return n.paginationTemplate},t.mapRows=function(t){return n.map.rows.call(this,t)},t.mapTotal=function(t){return n.map.total.call(this,t)},t}]}]).directive("nbList",["$nbList","$compile","$templateCache","$q","$http","$timeout","$document","$window",function(e,a,i,o,r,u,c,s){return{restrict:"EA",transclude:!0,scope:{source:"=",offset:"@",limit:"@",range:"@",locals:"=",paginationTemplate:"@",$nbList:"=control",autostart:"@",mapRow:"=?mapRow"},controller:["$scope",function(t){var n=this;n.offset=function(){return 1*(t.offset||0)},n.limit=function(){return 1*(t.limit||e.limit())},n.range=function(){return 1*(t.range||e.range())},n.paginationTemplate=function(){return t.paginationTemplate||e.paginationTemplate()},n.mapRows=function(t){return e.mapRows(t)},n.mapTotal=function(t){return e.mapTotal(t)}}],link:function(e,l,d,f){var p=o.defer(),h=f.paginationTemplate(),m=arguments;if(!1!==e.autostart&&(e.autostart=!0),e.mapRow||(e.mapRow=t.identity),p.promise.then(function(t){if(""!=t){var i=a(t)(e);l.append(i)}n.apply({$timeout:u,$document:c,$window:s},m)}),void 0!=h&&""!=h){var g=i.get(h);void 0!=g&&""!=g?p.resolve(g):r.get(h).then(function(t){p.resolve(t.data)},function(){p.resolve("")})}else p.resolve("")}}}]).directive("nbListScroll",["$window",function(t){return{restrict:"A",require:"nbList",priority:1,link:function(t,n,e){n.addClass("nb-list-scroll")}}}]).directive("nbListRow",[function(){return{restrict:"EA",link:function(t,n){n.addClass("nb-list-row")}}}]).directive("nbListCell",[function(){return{restrict:"EA",link:function(t,n){n.addClass("nb-list-cell")}}}])}(angular),function(t){"use strict";t.module("nb.listener",[]).provider("$listener",[function(){var n=function(n){var e=this,a=[];e.$on=function(t,i,o){return a.push(n.$on(t,i)),e},e.$clear=function(){return t.forEach(a,function(t){t()}),a=[],e},n.$on("$destroy",function(){e.$clear()})};this.$get=[function(){return function(t){return new n(t)}}]}])}(angular),function(t){"use strict";t.module("nb.loader",["ngMaterial"]).directive("nbLoader",["$rootScope","$timeout","$injector",function(t,n,e){return{restrict:"E",template:'<md-backdrop class="md-dialog-backdrop md-opaque" ng-if="data.visible>0"></md-backdrop><div ng-if="data.visible>0"><md-whiteframe class="md-whiteframe-2dp" ng-if="data.label" layout="row" layout-align="center center"><md-progress-circular md-mode="indeterminate"></md-progress-circular>{{data.label}}</md-whiteframe><div ng-if="!(data.label)"><md-progress-circular md-mode="indeterminate"></md-progress-circular><div></div>',scope:{},link:function(a){a.data={visible:0,label:null};var i=null;try{i=e.get("$translate")}catch(t){}t.$on("$nbloader.show",function(t,e){a.data.visible=a.data.visible+1,i?i(e.label).then(function(t){a.data.label=t},function(t){a.data.label=t}):a.data.label=e.label,n(function(){a.$apply()})}),t.$on("$nbloader.hide",function(t){var e=1*a.data.visible;--e<0&&(e=0),a.data.visible=e,0==e&&(a.data.label=null),n(function(){a.$apply()})})}}}]).provider("$nbLoader",[function(){this.$get=["$rootScope",function(t){var n=function(){};return n.show=function(n){t.$emit("$nbloader.show",{label:n})},n.hide=function(){t.$emit("$nbloader.hide")},n}]}])}(angular),function(t){"use strict";t.module("nb.pincode",["nb.auth"]).provider("$pinCode",[function(){var n=this,e=4,a={empty:"PIN is empty",same:"Pin and its repeat is not the same",size:"Pin is too short"},i={};n.validationMessage=function(t,e){return a[t]=e,n},n.size=function(t){return t&&(e=parseInt(t)),e},n.$get=["$rootScope","$localStorage","$q","$auth","$translate",function(n,o,r,u,c){var s=function(){return s.available()};s.available=function(){return o.pinCode&&""!=o.pinCode},s.size=function(){return e},s.clear=function(){var t=o.pinCode?o.pinCode+"":"";o.pinCode="",n.$emit("$pincode.clear",t),n.$emit("$pincode.change",t)},s.get=function(){return o.pinCode||""},s.validate=function(t,u){var c=r.defer(),s=null;return t&&""!=t?t.length<e?s=i[a.size]:u&&u!=t&&(s=i[a.same]):s=i[a.empty],null==s?(o.pinCode=t,c.resolve(o.pinCode),n.$emit("$pincode.validate",t),n.$emit("$pincode.change",t)):c.reject({reason:s,pin:t,repeat:u}),c.promise},s.authenticate=function(t){var e=r.defer();return s.validate(t).then(function(t){o.pinCode==t&&(o.pinAuthData=u(),e.resolve(u()),n.$emit("$pincode.authenticate",t))},function(t){e.reject(t)}),e.promise};var l=[];return t.forEach(a,function(t){l.push(t)}),c(l).then(function(t){i=t},function(t){i=t}),s}]}])}(angular),function(t){"use strict";t.module("nb.table",[]).directive("nbTable",[function(){return{restrict:"A",link:function(t,n){n.addClass("nb-table")}}}]).directive("nbTableStriped",[function(){return{restrict:"A",link:function(t,n){n.addClass("nb-table").addClass("nb-table-striped")}}}]).directive("nbTableHover",[function(){return{restrict:"A",link:function(t,n){n.addClass("nb-table").addClass("nb-table-hover")}}}]).directive("nbTableCell",[function(){return{restrict:"EA",link:function(t,n){n.addClass("nb-table-cell")}}}])}(angular),function(t){"use strict";t.module("nb.toast",[]).provider("$nbToast",[function(){var n=this,e={hideDelay:4e3,position:"bottom right"},a=function(n){var e=[];return t.isObject(n)?t.isArray(n)?t.forEach(n,function(t){e.push(t)}):t.forEach(n,function(n){t.forEach(n,function(t){e.push(t)})}):e.push(n),"{{'"+e.join("'|translate}}<br />{{'")+"'|translate}}"};n.setOptions=function(n){e=t.merge(e,n||{})},n.$get=["$mdToast",function(n){var i={},o=t.copy(n,i);return o.info=function(i,o){var r=t.copy(e);return r=t.merge(r,o||{}),r.controller="nbToastController",r.template='<md-toast class="multiline"><div class="md-toast-text">'+a(i)+"</div></md-toast>",r.locals={actions:{}},n.show(r)},o.alert=function(i,o){var r=t.copy(e),u=!1;return(r=t.merge(r,o||{}))&&void 0!=r.highlight&&(u=!0===r.highlight,delete r.highlight),r.controller="nbToastController",r.template='<md-toast class="multiline"><div class="md-toast-text">'+a(i)+"</div><md-button"+(u?' class="md-highlight"':"")+" ng-click=\"actions.hide()\">{{'client.action.close'|translate}}</md-button></md-toast>",r.locals={actions:{}},n.show(r)},o.show=o.alert,o.confirm=function(i,r){var u=t.copy(e);(u=t.merge(u,r&&r.options?r.options:{})).controller="nbToastController",u.template='<md-toast class="multiline"><div class="md-toast-text">'+a(i)+"</div>";var c={};return r&&t.forEach(r,function(t,n){var e=t(o);if(e){var a=Math.round(1e3*Math.random())+"-"+Math.round(1e3*Math.random());c[a]=e.action,u.template+="<md-button"+(!0===e.highlight?' class="md-highlight"':"")+" ng-click=\"actions.action($event, '"+a+"')\">{{'"+n+"'|translate}}</md-button>"}}),u.locals={actions:c},u.template+="</md-toast>",n.show(u)},o}]}]).controller("nbToastController",["$scope","$nbToast","actions",function(t,n,e){t.actions={hide:function(){n.hide()},action:function(t,n){e[n].call(null,t.currentTarget)}}}])}(angular);